<% content_for :title, "新規登録" %>

<div class="auth-page">
    <div class="auth-card">
        <div class="auth-header">
            <h1 class="auth-title">新しい読書仲間になりませんか？</h1>
            <p class="auth-subtitle">本とコーヒーと猫のいる温かな空間へ</p>
        </div>

        <%= form_with model: @user, url: signup_path, local: true, class: "auth-form" do |form| %>
        <% if @user.errors.any? %>
        <div class="error-card">
            <div class="error-header">
                <span class="error-icon">🚫</span>
                <span class="error-title">入力内容をご確認ください</span>
            </div>
            <ul class="error-list">
                <% @user.errors.full_messages.each do |message| %>
                <li class="error-item"><%= message %></li>
                <% end %>
            </ul>
        </div>
        <% end %>

        <div class="form-group">
            <%= form.label :username, "ユーザー名", class: "form-label" %>
            <%= form.text_field :username, required: true, class: "form-input", placeholder: "例：bookworm123" %>
        </div>

        <div class="form-group">
            <%= form.label :email, "メールアドレス", class: "form-label" %>
            <%= form.email_field :email, required: true, class: "form-input", placeholder: "例：reader@example.com" %>
        </div>

        <div class="form-group">
            <%= form.label :password, "パスワード", class: "form-label" %>
            <%= form.password_field :password, required: true, class: "form-input", placeholder: "6文字以上" %>
            <p class="form-hint">安全のため6文字以上でお設定ください</p>
        </div>

        <div class="form-actions">
            <%= form.submit "アカウント作成", class: "submit-button primary" %>
        </div>
        <% end %>

        <div class="auth-footer">
            <p class="auth-switch">
                すでにアカウントをお持ちですか？
                <%= link_to "ログインはこちら", login_path, class: "auth-link" %>
            </p>
        </div>
    </div>
</div>